<div class="container page">
  
  <div class="row content card">
    <notification-dialog></notification-dialog>
    <div class="col-md-12">
      <h2>{{discussions[0].title}}</h2>
      <span>started by <a class="user-link" href="#user/{{discussions[0].userid._id}}">{{discussions[0].userid.username}}</a></span>
      <div class="content">
        <div class="" ng-bind-html="getDiscussionContent(discussions[0].content)">

        </div>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="col-md-12">
      <moderation entity="'discussion'" entityid="discussions[0]._id" approved="discussions[0].approved" owner="discussions[0].userid._id" size="'large'" editable="true"></moderation>
      <button class="branch-light-button" type="button" name="button" ng-click="markAnswered(discussions[0]._id)" ng-show="canAnswer">Mark as answered</button>
      <button class="branch-light-button" type="button" name="button" ng-click="reOpen(discussions[0]._id)" ng-show="canReopen">Re-open</button>
    </div>
  </div>
  
  <div comments entity="'discussion'" entityid="discussionId"></div>     
  
  <div class="loading-cover" ng-show="blogLoading">
    <span></span>
    <span></span>
    <span></span>
    <span></span>
    <span></span>
  </div>

</div>